# 3.1 Web åŸºç¤Žæ¦‚å¿µ

## å­¸ç¿’ç›®æ¨™

* èªè­˜ç¶²é ä¸‰å…„å¼Ÿ
* èªè­˜ç¶²ç«™æª”æ¡ˆçµæ§‹
* èªè­˜ Cookie
* ä½¿ç”¨é–‹ç™¼è€…å·¥å…·

## ç¶²é ä¸‰å…„å¼Ÿ

åœ¨è£½ä½œä¸€å€‹ç¶²é æ™‚ï¼Œæœƒä½¿ç”¨åˆ°ç¶²é ä¸‰å¤§å…ƒç´ ï¼Œåˆ†åˆ¥ç‚º HTMLã€CSS åŠ JavaScriptï¼Œä¸‹é¢ç”¨ä¸€å¼µåœ–è§£é‡‹å…¶åˆ†åˆ¥çš„ç”¨é€”ï¼ˆåœ–ç‰‡ä¾†æºï¼š[https://d2v4zi8pl64nxt.cloudfront.net/javascript-seo/5948abfc0e2df5.02876591.gif](https://d2v4zi8pl64nxt.cloudfront.net/javascript-seo/5948abfc0e2df5.02876591.gif)ï¼‰ã€‚

![](https://d2v4zi8pl64nxt.cloudfront.net/javascript-seo/5948abfc0e2df5.02876591.gif)

* HTMl ä»£è¡¨çš„æ˜¯éª¨æž¶ï¼Œéœ€è¦å“ªäº›å…ƒç´ ã€æŽ’åºå…ƒç´ é †åºç­‰ï¼Œéƒ½æ˜¯ç”± HTML è² è²¬ã€‚
* CSS ä»£è¡¨çš„æ˜¯çš®è†šï¼Œè² è²¬è™•ç†ç¶²é çš„å¤–è§€å’ŒæŽ’ç‰ˆã€‚
* JavaScriptï¼ˆç°¡ç¨± JSï¼‰ä»£è¡¨å¤§è…¦ï¼Œè² è²¬è™•ç†ç¶²ç«™çš„è¡Œç‚ºï¼Œä½¿ç¶²ç«™èƒ½å¤ é€²è¡Œå‹•ä½œæˆ–èˆ‡ä½¿ç”¨è€…äº’å‹•ã€‚

## ç¶²ç«™æž¶æ§‹

ä¸€å€‹åŸºæœ¬çš„ç¶²ç«™ï¼Œæª”æ¡ˆçµæ§‹å¤§è‡´å¦‚ä¸‹ï¼š

![Website structure](./src/3/Website%20structure.png)

* ç¶²ç«™æ ¹ç›®éŒ„å­˜æ”¾äº† `index.html` æª”ï¼Œä¹Ÿæ˜¯ç¶²ç«™çš„ä¸»è¦æª”æ¡ˆã€‚æ¯ç•¶é€²å…¥ä¸€å€‹ç¶²ç«™çš„æ ¹ç›®éŒ„ï¼Œç€è¦½å™¨å°±æœƒè‡ªå‹•å­˜å– `index.html` æª”ã€‚
* åœ¨ `assets` è³‡æ–™å¤¾ç•¶ä¸­æœƒå­˜æ”¾ä¸€äº›ç…§ç‰‡æª”ã€CSSã€JavaScript æª”ç­‰ï¼Œä¾›ç¶²ç«™å­˜å–ä½¿ç”¨ã€‚
* åœ¨ç¶²é çˆ¬èŸ²åŠæœå°‹å¼•æ“Žå»ºç«‹ç´¢å¼•æ™‚ï¼Œèº«ç‚ºä¸€ä½~~å®ˆæ³•å¥½å…¬æ°‘~~ï¼Œæ‡‰è©²æŒ‰ç…§ `robots.txt` çš„è¦å‰‡é€²è¡Œè³‡æ–™çš„çˆ¬èŸ²ï¼Œé¿å…æŠ“å–åˆ°æ•æ„Ÿè³‡æ–™æˆ–ç®¡ç†ä»‹é¢ã€‚ä¸éŽèº«ç‚ºä¸€ä½~~é§­å®¢~~ï¼Œ `robots.txt` æª”å°±è®Šæˆä»–å€‘çš„å¤©å ‚äº†ï¼Œå› ç‚ºæœ‰æ©Ÿæœƒåœ¨é€™å€‹æª”æ¡ˆä¸­ï¼Œçœ‹åˆ°ä¸è©²è¢«çœ‹åˆ°çš„é é¢ã€‚
* ç¶²ç«™é–‹ç™¼è€…é€šå¸¸æœƒå»ºç«‹ `sitemap.xml` æª”ï¼Œåœ¨é€™å€‹æª”æ¡ˆä¸­ï¼Œæ¸…æ¥šçš„æ¨™ç¤ºç¶²ç«™ä¸­çš„å„å€‹é é¢ï¼Œä»¥åŠ é€Ÿç€è¦½å™¨å»ºç«‹ç´¢å¼•çš„é€Ÿåº¦ã€‚ç„¶è€Œï¼Œèº«ç‚ºé§­å®¢ï¼ŒåŒæ¨£æœ‰æ©Ÿæœƒåœ¨ç•¶ä¸­çœ‹åˆ°æ•æ„Ÿè·¯å¾‘ï¼Œä¾‹å¦‚ï¼šä¹‹å‰è¨±å¤šå­¸æ ¡ç¶²ç«™å°±å› ç‚º `sitemap.xml` é€ æˆå¸³è™Ÿå¯†ç¢¼åŠ API çš„å¤–æ´©ï¼ˆé›–ç„¶å¯†ç¢¼æœ‰ç¶“éŽ Hashï¼‰ï¼Œè©³è¦‹ [HITCON ZeroDay ZDIDï¼šZD-2024-00502](https://zeroday.hitcon.org/vulnerability/ZD-2024-00502)ã€‚

## Cookie ç°¡ä»‹

ç‚ºäº†è®“ä½¿ç”¨è€…åœ¨çŸ­æ™‚é–“æ“ä½œç¶²ç«™æ™‚ï¼Œä¸éœ€é‡è¤‡ç™»å…¥å¸³è™Ÿï¼Œç€è¦½å™¨æœƒè‡ªå‹•å„²å­˜ä¸€äº›æ•¸æ“šåœ¨æœ¬åœ°ç«¯ï¼Œè€Œé€™äº›æ•¸æ“šå°±ç¨±ç‚ºã€ŒCookieã€ã€‚è‹¥ Cookie å¤–æ´©ï¼Œå°±æœ‰å¯èƒ½è¢«é§­å®¢å¾žé ç«¯ç™»å…¥å—å®³è€…çš„å¸³è™Ÿï¼›åˆæˆ–è€…å¦‚æžœé–‹ç™¼è€…è¨­å®šçš„ Cookie éŽæ–¼ç°¡å–®ï¼Œå°±æœƒé€ æˆã€Œå­˜å–æŽ§åˆ¶ç¼ºé™·ã€çš„å•é¡Œã€‚ä¾‹å¦‚ï¼šå…ˆå‰æœ‰ä¸€å€‹æ•™å­¸ç¶²ç«™å› ç‚º Cookie æ²’æœ‰ç¶“éŽ Hashï¼Œåƒ…ä½¿ç”¨æµæ°´è™ŸåŠä½¿ç”¨è€…å§“åä½œç‚ºå¸³è™Ÿçš„é©—è­‰æ¢ä»¶ï¼Œé€ æˆå¯ä»¥ä»»æ„ç™»å…¥ä»–äººçš„å¸³è™Ÿï¼Œè©³è¦‹ [HITCON ZeroDay ZDIDï¼šZD-2024-00452](https://zeroday.hitcon.org/vulnerability/ZD-2024-00452)ã€‚

## ä½¿ç”¨é–‹ç™¼è€…å·¥å…·

### é–‹å•Ÿé–‹ç™¼è€…å·¥å…·

èº«ç‚ºä¸€ä½é§­å®¢æˆ–ä¸€ä½é–‹ç™¼è€…ï¼Œå­¸æœƒä½¿ç”¨é–‹ç™¼è€…å·¥å…·æ˜¯å¿…ä¸å¯å°‘çš„æŠ€èƒ½ã€‚

è¦æƒ³é–‹å•Ÿé–‹ç™¼è€…å·¥å…·æœ‰ä»¥ä¸‹ä¸‰ç¨®æ–¹æ³•ï¼š
1.  é»žæ“Šå¿«é€Ÿéµ F12 æˆ– Ctrl + Shift + Cï¼ˆMac ä½¿ç”¨ï¼šCmd + Option + Cï¼‰é–‹å•Ÿ
2.  ç¶²é ä¸Šæ–¹é»žæ“Šå³éµï¼Œç„¶å¾Œé¸æ“‡ã€Œæª¢æŸ¥ã€ï¼Œå¦‚ä¸‹åœ–æ‰€ç¤ºï¼š
    ![](https://developer.chrome.com/static/docs/devtools/open/image/the-inspect-option-a-dro-e98bce489fabb_1920.png?hl=zh-tw)
3. æŒ‰ä¸€ä¸‹å³å´çš„ã€Œä¸‰å€‹é»žã€æŒ‰éˆ•ï¼Œç„¶å¾Œä¾åºé¸å–ã€Œæ›´å¤šå·¥å…·ã€ >ã€Œé–‹ç™¼äººå“¡å·¥å…·ã€ï¼Œå¦‚ä¸‹åœ–æ‰€ç¤ºï¼š
   ![](https://developer.chrome.com/static/docs/devtools/open/image/the-developer-tools-optio-2d9d9b7c0ac96_1920.png?hl=zh-tw)

ä¸‹é¢å°‡ä¸€ä¸€ä»‹ç´¹é–‹ç™¼è€…å·¥å…·å„åˆ†é çš„ä½¿ç”¨æ–¹å¼ã€‚

### å…ƒç´ 

1. é»žæ“Šã€ŒElementsã€æ¨™ç±¤å¯æŸ¥çœ‹ç¶²é ä¸­çš„ HTML å…§å®¹åŠç›¸é—œ CSS æ¨£å¼
    ![Elements](./src/3/Elements.png)
2. é»žæ“Šå·¦ä¸Šè§’å·¥å…·ï¼Œå†é»žæ“Šç¶²é ä¸­çš„å…ƒç´ æŸ¥çœ‹å…ƒç´ çš„åŽŸå§‹ç¢¼
   ![Select an elements](./src/3/Select%20an%20element.png)
3. é»žæ“Šå·¦ä¸Šè§’ã€Œé¸æ“‡è£ç½®ã€å·¥å…·ï¼Œå¯æ¸¬è©¦ä¸åŒå°ºå¯¸è£ç½®çš„é¡¯ç¤ºæ•ˆæžœï¼Œåœ¨é–‹ç™¼ç¶²é çš„ RWDï¼ˆéŸ¿æ‡‰å¼ç¶²é è¨­è¨ˆï¼‰æ™‚ç›¸ç•¶æ–¹ä¾¿
   ![Toggle device](./src/3/Toggle%20device.png)

### æŽ§åˆ¶å°

é»žæ“Šã€ŒConsoleã€å¯åŸ·è¡Œ JavaScript ç¨‹å¼

![Console](./src/3/Console.png)

### è³‡æº

é»žæ“Šã€ŒSourcesã€æ¨™ç±¤å¯æŸ¥çœ‹ç¶²é ä¸­ç´¢å¼•çš„æ‰€æœ‰æª”æ¡ˆï¼ŒåŒ…å«ï¼šHTMLã€CSSã€JS åŠç…§ç‰‡æª”ç­‰ã€‚

![Sources](./src/3/Sources.png)

### ç¶²è·¯

é»žæ“Šã€ŒNetworkã€æ¨™ç±¤å¯æŸ¥çœ‹å°åŒ…ç´€éŒ„ï¼ŒåŒ…å«ç¶²é æª”æ¡ˆåŠ API çš„è«‹æ±‚ç´€éŒ„ç­‰ã€‚

![Network](./src/3/Network.png)

### æ‡‰ç”¨ç¨‹å¼

åœ¨ã€ŒApplicationã€æ¨™ç±¤çš„ã€ŒCookiesã€é é¢ä¸‹ï¼Œå¯æŸ¥çœ‹åŠä¿®æ”¹ç¶²é çš„ Cookieã€‚

![Cookie](./src/3/Cookie.png)

> ### Challenge
> 
> * [è²·å½©åˆ¸åšå…¬ç›Šï¼](https://ctfd.1ping.org/challenges#%E8%B2%B7%E5%BD%A9%E5%88%B8%E5%81%9A%E5%85%AC%E7%9B%8A%EF%BC%81-5)
> * [ðŸ¤–](https://ctfd.1ping.org/challenges#%F0%9F%A4%96-6)